<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard User | Satpel Pariaman</title>

<!-- Anti cache -->
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --maroon:#7a1f2b;
}
  /* =========================
   ANIMATIONS
========================= */

/* HEADER SLIDE */
.header{
  animation: slideDown .7s ease;
}
@keyframes slideDown{
  from{
    transform:translateY(-40px);
    opacity:0;
  }
  to{
    transform:translateY(0);
    opacity:1;
  }
}

/* CARD STAGGER */
.card-menu{
  opacity:0;
  transform:translateY(30px);
  animation: fadeUp .6s ease forwards;
}
@keyframes fadeUp{
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* HOVER GLOW */
.card-menu:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow:0 20px 45px rgba(0,0,0,.25);
}

/* LOGOUT PULSE */
.btn-logout{
  animation:pulseRed 2s infinite;
}
@keyframes pulseRed{
  0%{ box-shadow:0 0 0 0 rgba(176,0,32,.7); }
  70%{ box-shadow:0 0 0 10px rgba(176,0,32,0); }
  100%{ box-shadow:0 0 0 0 rgba(176,0,32,0); }
}


/* GLOBAL */
body{
  font-family:'Inter',sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  background:#f4f6f9;
}

/* HEADER */
.header{
  background:var(--maroon);
  color:white;
  padding:20px 40px;
}
.header-inner{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.header-left{
  display:flex;
  align-items:center;
  cursor:pointer;
}
.header-left img{
  height:44px;
  margin-right:10px;
}
.header-title h6{
  margin:0;
  font-weight:700;
}

/* RIGHT */
.header-right{
  text-align:right;
}

/* LOGOUT BUTTON */
.btn-logout{
  background:#b00020;
  border:2px solid #000;
  color:white;
  border-radius:30px;
  padding:6px 22px;
  font-weight:700;
  margin-top:6px;
}

/* DASHBOARD */
.main{ flex:1; }

.card-menu{
  border:none;
  border-radius:20px;
  padding:30px;
  text-align:center;
  box-shadow:0 12px 30px rgba(0,0,0,.12);
  cursor:pointer;
  transition:.25s;
}
.card-menu:hover{
  transform:translateY(-8px);
}

/* DROPDOWN */
.dropdown-menu a{
  font-size:14px;
}

/* FOOTER */
footer{
  background:#0b1f33;
  color:white;
}
footer img{
  height:38px;
  margin-right:10px;
}
footer a{
  color:white;
  text-decoration:none;
}
footer a:hover{
  color:#ffd966;
}
</style>
</head>

<body>

<!-- ================= HEADER ================= -->
<div class="header">
  <div class="header-inner">

    <!-- CLICKABLE TITLE -->
    <div class="header-left" data-bs-toggle="modal" data-bs-target="#logoutModal">
      <img src="assets/logo-kemenhub.png">
      <img src="assets/logo-djka.png">
      <img src="assets/logo-btp-padang.png">

      <div class="header-title ms-3">
        <h6>Satuan Pelayanan Pariaman</h6>
        <small>Balai Teknik Perkeretaapian Kelas II Padang</small>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="header-right">
      <div id="clock"></div>
      <div id="date"></div>

      <button class="btn-logout" data-bs-toggle="modal" data-bs-target="#logoutModal">
        Logout
      </button>
    </div>

  </div>
</div>


<!-- ================= DASHBOARD ================= -->
<div class="container my-5 main">
  <div class="row g-4">

    <!-- BARIS 1 -->
    <div class="col-md-4">
      <div class="card-menu" onclick="openLink('https://skemaraja.dephub.go.id/')">
        <h6>SKEMA RAJA</h6>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card-menu" onclick="openLink('https://sik.dephub.go.id/')">
        <h6>SISTEM INFORMASI KEMENHUB (SIK)</h6>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card-menu" onclick="openLink('https://e-kinerja.kemenhub.go.id/')">
        <h6>E-KINERJA KEMENHUB</h6>
      </div>
    </div>

    <!-- BARIS 2 -->
    <div class="col-md-4">
      <div class="card-menu" onclick="alert('Segera hadir')">
        <h6>INPUT DATA</h6>
      </div>
    </div>

    <!-- PUSAT DATA -->
    <div class="col-md-4">
      <div class="dropdown">
        <div class="card-menu dropdown-toggle" data-bs-toggle="dropdown">
          <h6>PUSAT DATA</h6>
        </div>

        <ul class="dropdown-menu w-100">
          <li><a class="dropdown-item" href="https://drive.google.com/drive/folders/1eoIjRHJngsbGNzQo6TNSnDwa6nyTb4KJ" target="_blank">Peta Lintas</a></li>
          <li><a class="dropdown-item" href="https://docs.google.com/spreadsheets/d/1pneesRJrhFeS4-WNYqeqa76uVJJMv3_x/edit?gid=591809172#gid=591809172" target="_blank">Rekap Nota Dinas</a></li>
          <li><a class="dropdown-item" href="https://drive.google.com/drive/folders/13Sh9otz8JNZJohSV8Wgqvf900uKLK7Pk" target="_blank">Laporan Bulanan</a></li>
          <li><a class="dropdown-item" href="https://drive.google.com/drive/folders/12NjhV4GROcWBqbtUNIhK7SN5FYyalDDB" target="_blank">Laporan Kegiatan</a></li>
          <li><a class="dropdown-item" href="https://docs.google.com/spreadsheets/d/1uJ1GKJ2YYaWXPxGJOj6qe_grzT4Z4rl4/edit" target="_blank">Data Perlintasan</a></li>
        </ul>
      </div>
    </div>

  </div>
</div>


<!-- ================= FOOTER ================= -->
<footer class="pt-4 pb-3 text-center">
  <img src="assets/logo-kemenhub.png">
  <img src="assets/logo-djka.png">
  <img src="assets/logo-btp-padang.png">

  <p class="mt-3">
    <a href="https://www.instagram.com/btppadang/" target="_blank">Instagram</a> |
    <a href="https://www.youtube.com/@btppadang" target="_blank">YouTube</a>
  </p>
</footer>


<!-- ================= MODAL LOGOUT ================= -->
<div class="modal fade" id="logoutModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Konfirmasi Logout</h5>
      </div>

      <div class="modal-body text-center">
        Yakin ingin logout?
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Tidak</button>
        <button class="btn btn-danger" onclick="logout()">Ya</button>
      </div>

    </div>
  </div>
</div>


<!-- ================= FIREBASE ================= -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAUdkRKithy90zkDMa14nfjQne5FxmkhZM",
  authDomain: "website-satpel-pariaman.firebaseapp.com",
  projectId: "website-satpel-pariaman",
  storageBucket: "website-satpel-pariaman.firebasestorage.app",
  messagingSenderId: "857253501191",
  appId: "1:857253501191:web:a169ce2bebf7267d124da2"
};
firebase.initializeApp(firebaseConfig);

function logout(){
  firebase.auth().signOut().then(()=>{
    window.location.replace("index.html");
  });
}

function openLink(url){
  window.open(url, '_blank');
}

function updateClock(){
  const now = new Date();
  document.getElementById("clock").innerText = now.toLocaleTimeString("id-ID");
  document.getElementById("date").innerText =
    now.toLocaleDateString("id-ID",{day:'numeric',month:'long',year:'numeric'});
}
setInterval(updateClock,1000);
updateClock();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
/* animasi muncul bertahap */
const cards = document.querySelectorAll('.card-menu');
cards.forEach((card, i)=>{
  card.style.animationDelay = (i * 0.15) + 's';
});
</script>
  
</body>
</html>
