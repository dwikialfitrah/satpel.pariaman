<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard User | Satpel Pariaman</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --maroon:#7a1f2b;
  --gold:#d4af37;
  --blue:#0b3c5d;
}

body{
  font-family:'Inter',sans-serif;
  background:#f4f6f9;
  margin:0;
}

/* TOPBAR */
.topbar{
  background:var(--blue);
  color:white;
  padding:18px 30px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.topbar-title{
  font-weight:700;
  font-size:18px;
}

.logout-btn{
  color:red;
  font-weight:700;
  cursor:pointer;
}

/* LAYOUT */
.main-wrapper{
  display:flex;
  min-height:calc(100vh - 120px);
}

/* SIDEBAR */
.sidebar{
  width:230px;
  background:#0b1f33;
  color:white;
  padding-top:25px;
}

.sidebar-item{
  padding:14px 25px;
  cursor:pointer;
  transition:.2s;
}

.sidebar-item:hover{
  background:rgba(255,255,255,.08);
}

.sidebar-item.active{
  background:var(--maroon);
}

/* CONTENT */
.content{
  flex:1;
  padding:40px;
}

/* CARD */
.card-bubble{
  border:none;
  border-radius:18px;
  padding:40px 20px;
  text-align:center;
  box-shadow:0 12px 30px rgba(0,0,0,.12);
  transition:.25s;
  cursor:pointer;
}

.card-bubble:hover{
  transform:translateY(-6px);
}

/* SECTION */
.section{ display:none; }
.section.active{ display:block; }

/* FOOTER */
footer{
  background:#0b1f33;
  color:white;
}
footer img{
  height:42px;
  margin-right:10px;
}
footer a{
  color:#ccc;
  text-decoration:none;
}
footer a:hover{
  color:var(--gold);
}
</style>
</head>

<body>

<!-- TOPBAR -->
<div class="topbar">
  <div class="topbar-title">
    SATUAN PELAYANAN PARIAMAN
  </div>

  <div class="d-flex align-items-center gap-4">
    <div id="clock"></div>
    <div class="logout-btn" data-bs-toggle="modal" data-bs-target="#logoutModal">
      LOGOUT
    </div>
  </div>
</div>

<div class="main-wrapper">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="sidebar-item active" onclick="showSection(event,'dashboard')">Dashboard</div>
    <div class="sidebar-item" onclick="showSection(event,'pusat')">Pusat Data</div>
    <div class="sidebar-item" onclick="showSection(event,'input')">Input Data</div>
    <div class="sidebar-item" onclick="showSection(event,'chatbot')">Chatbot AI</div>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <!-- DASHBOARD -->
    <div id="dashboard" class="section active">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card card-bubble" onclick="openLink('https://skemaraja.dephub.go.id/')">
            SKEMA RAJA
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-bubble" onclick="openLink('https://sik.dephub.go.id/')">
            SISTEM INFORMASI KEMENHUB
          </div>
        </div>
        <div class="col-md-4">
          <div class="card card-bubble" onclick="openLink('https://e-kinerja.kemenhub.go.id/')">
            E-KINERJA
          </div>
        </div>
      </div>
    </div>

    <!-- PUSAT DATA -->
    <div id="pusat" class="section">
      <div class="row g-4">
        <div class="col-md-6">
          <div class="card card-bubble" onclick="openLink('https://drive.google.com/drive/folders/1eoIjRHJngsbGNzQo6TNSnDwa6nyTb4KJ')">
            Peta Lintas
          </div>
        </div>
        <div class="col-md-6">
          <div class="card card-bubble" onclick="openLink('https://docs.google.com/spreadsheets/d/1pneesRJrhFeS4-WNYqeqa76uVJJMv3_x')">
            Rekap Nota Dinas
          </div>
        </div>
        <div class="col-md-6">
          <div class="card card-bubble" onclick="openLink('https://drive.google.com/drive/folders/13Sh9otz8JNZJohSV8Wgqvf900uKLK7Pk')">
            Laporan Bulanan
          </div>
        </div>
        <div class="col-md-6">
          <div class="card card-bubble" onclick="openLink('https://drive.google.com/drive/folders/12NjhV4GROcWBqbtUNIhK7SN5FYyalDDB')">
            Laporan Kegiatan
          </div>
        </div>
        <div class="col-md-6">
          <div class="card card-bubble" onclick="openLink('https://docs.google.com/spreadsheets/d/1uJ1GKJ2YYaWXPxGJOj6qe_grzT4Z4rl4')">
            Data Perlintasan
          </div>
        </div>
      </div>
    </div>

    <!-- INPUT -->
    <div id="input" class="section">
      <div class="card card-bubble text-center">
        FORM INPUT DATA
      </div>
    </div>

    <!-- CHATBOT -->
    <div id="chatbot" class="section">
      <div class="card card-bubble text-center">
        CHATBOT AI (SIAP DIKEMBANGKAN)
      </div>
    </div>

  </div>
</div>

<!-- FOOTER -->
<footer class="pt-5 pb-3">
  <div class="container">
    <div class="row mb-3">
      <div class="col-md-4">
        <img src="assets/logo-kemenhub.png">
        <img src="assets/logo-djka.png">
        <img src="assets/logo-btp-padang.png">
        <h6 class="mt-3">Balai Teknik Perkeretaapian Kelas II Padang</h6>
        <p>Satuan Pelayanan Pariaman</p>
      </div>
      <div class="col-md-4">
        <h6>Ikuti Kami</h6>
        <p>
          <a href="https://www.instagram.com/btppadang/" target="_blank">
            <i class="bi bi-instagram"></i> Instagram
          </a><br>
          <a href="https://www.youtube.com/@btppadang" target="_blank">
            <i class="bi bi-youtube"></i> YouTube
          </a>
        </p>
      </div>
      <div class="col-md-4">
        <iframe
          src="https://www.google.com/maps?q=Balai Teknik Perkeretaapian Padang&output=embed"
          width="100%" height="180" style="border:0;" allowfullscreen>
        </iframe>
      </div>
    </div>
    <hr>
    <p class="text-center small">
      © 2026 Balai Teknik Perkeretaapian Kelas II Padang – Satuan Pelayanan Pariaman
    </p>
  </div>
</footer>

<!-- MODAL LOGOUT -->
<div class="modal fade" id="logoutModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <h5>Yakin ingin keluar?</h5>
      <div class="mt-3">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Tidak</button>
        <button class="btn btn-danger" onclick="logout()">Ya</button>
      </div>
    </div>
  </div>
</div>

<!-- BOOTSTRAP -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAUdkRKithy90zkDMa14nfjQne5FxmkhZM",
  authDomain: "website-satpel-pariaman.firebaseapp.com",
  projectId: "website-satpel-pariaman",
  storageBucket: "website-satpel-pariaman.firebasestorage.app",
  messagingSenderId: "857253501191",
  appId: "1:857253501191:web:a169ce2bebf7267d124da2"
};
firebase.initializeApp(firebaseConfig);
</script>

<!-- AUTH & GUARD -->
<script src="auth.js"></script>
<script src="guard.js"></script>

<script>
function showSection(e,id){
  document.querySelectorAll('.sidebar-item')
    .forEach(el=>el.classList.remove('active'));
  e.currentTarget.classList.add('active');

  document.querySelectorAll('.section')
    .forEach(el=>el.classList.remove('active'));

  document.getElementById(id).classList.add('active');
}

function openLink(url){
  window.open(url,'_blank');
}

function updateClock(){
  const now = new Date();
  document.getElementById("clock").innerText =
    now.toLocaleTimeString("id-ID");
}
setInterval(updateClock,1000);
updateClock();
</script>

</body>
</html>
